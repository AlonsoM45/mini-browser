I think it's funny that there are so many negative reactions to the ending; it is really the only way that the series could end.  Both books in the beginning of the trilogy lead up to exactly what happened (to a point of being predictable), and anything other than Tris sacrificing herself as she did would have been out of character.  The book was well done in that it answered a lot of questions, and showed us some insight into Tobias which was interesting.  Good book, not as bad as people are making it seem in the comments/reviews.  It is written for it's target audience (YA), and it stays true to character.